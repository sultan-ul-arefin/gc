(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{e7lA:function(t,n,e){"use strict";e.r(n);var o=e("ofXK"),i=e("tyNb"),c=e("mrSG"),d=e("wd/R"),r=e("fXoL"),s=e("2Rin"),a=e("H+bZ"),l=e("xJkR");const g=function(){return{"border-radius":"5px",height:"120px",width:"100%"}};function p(t,n){1&t&&(r["\u0275\u0275elementStart"](0,"div",4),r["\u0275\u0275element"](1,"ngx-skeleton-loader",5),r["\u0275\u0275elementEnd"]()),2&t&&(r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("theme",r["\u0275\u0275pureFunction0"](1,g)))}function _(t,n){1&t&&r["\u0275\u0275element"](0,"img",18)}function m(t,n){1&t&&r["\u0275\u0275element"](0,"img",19)}const v=function(t){return{"background-image":t}};function O(t,n){if(1&t){const t=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",6),r["\u0275\u0275elementStart"](1,"div",7),r["\u0275\u0275elementStart"](2,"div",8),r["\u0275\u0275listener"]("click",(function(){r["\u0275\u0275restoreView"](t);const e=n.$implicit;return r["\u0275\u0275nextContext"]().openStore(e)})),r["\u0275\u0275template"](3,_,1,0,"img",9),r["\u0275\u0275template"](4,m,1,0,"img",10),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"div",11),r["\u0275\u0275listener"]("click",(function(){r["\u0275\u0275restoreView"](t);const e=n.$implicit;return r["\u0275\u0275nextContext"]().openStore(e)})),r["\u0275\u0275elementStart"](6,"p",12),r["\u0275\u0275text"](7),r["\u0275\u0275pipe"](8,"slice"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](9,"p",13),r["\u0275\u0275text"](10),r["\u0275\u0275pipe"](11,"slice"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](12,"p",14),r["\u0275\u0275text"](13),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](14,"div",15),r["\u0275\u0275elementStart"](15,"div",16),r["\u0275\u0275elementStart"](16,"a",17),r["\u0275\u0275text"](17),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&t){const t=n.$implicit,e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngStyle",r["\u0275\u0275pureFunction1"](16,v,"url("+e.api.mediaURL+t.cover+"),url(assets/imgs/user.png)")),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.isOpen&&"1"===t.isClosed),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!t.isOpen||"0"===t.isClosed),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate1"](" ",t.name.length>12?r["\u0275\u0275pipeBind3"](8,8,t.name,0,12)+"..":t.name,""),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate1"](" ",t.address.length>20?r["\u0275\u0275pipeBind3"](11,12,t.address,0,20)+"..":t.address," "),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate2"](" ",e.getTime(t.open_time)," - ",e.getTime(t.close_time)," "),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate1"](" ",e.util.translate("View")," ")}}const C=[{path:"",component:(()=>{class t{constructor(t,n,e){this.util=t,this.api=n,this.router=e,this.stores=[],this.dummystores=[],this.dummystores=Array(30),this.getStore()}ngOnInit(){}getStore(){const t={id:localStorage.getItem("city")};this.api.post("stores/getByCity",t).then(t=>{console.log("stores by city",t),this.stores=[],this.dummystores=[],t&&200===t.status&&t.data&&t.data.length&&(this.stores=t.data,this.stores.forEach(t=>Object(c.a)(this,void 0,void 0,(function*(){t.isOpen=yield this.isOpen(t.open_time,t.close_time)}))),console.log("store====>>>",this.stores))},t=>{this.dummystores=[],console.log(t),this.util.toast("error",this.util.translate("Error"),this.util.translate("Something went wrong"))})}isOpen(t,n){const e=d().format("HH:mm:ss"),o=d(e,"H:mm:ss"),i=d(t,"H:mm:ss"),c=d(n,"H:mm:ss");return!!o.isBetween(i,c)}openStore(t){console.log("open store",t);const n=t.name.replace(/[^a-zA-Z0-9]/g,"-").toLowerCase();this.router.navigate(["shop",t.uid,n])}getTime(t){return d(t,["h:mm A"]).format("hh:mm A")}}return t.\u0275fac=function(n){return new(n||t)(r["\u0275\u0275directiveInject"](s.a),r["\u0275\u0275directiveInject"](a.a),r["\u0275\u0275directiveInject"](i.f))},t.\u0275cmp=r["\u0275\u0275defineComponent"]({type:t,selectors:[["app-stores"]],decls:5,vars:2,consts:[[1,"container"],[1,"row"],["class","col-12 col-md-6",4,"ngFor","ngForOf"],["class","content_div col-12 col-md-6",4,"ngFor","ngForOf"],[1,"col-12","col-md-6"],["appearance","circle",3,"theme"],[1,"content_div","col-12","col-md-6"],[1,"card_div"],[1,"image_div",3,"ngStyle","click"],["src","assets/imgs/open.png","class","isOpen","alt","Veg",4,"ngIf"],["src","assets/imgs/close.png","class","isOpen","alt","Non Veg",4,"ngIf"],[1,"desc_div",3,"click"],[1,"pro_name"],[1,"pro_detail"],[1,"price_lbl"],[1,"small_flex"],[1,"btnBtm"],[1,"ion-activatable","ripple-parent"],["src","assets/imgs/open.png","alt","Veg",1,"isOpen"],["src","assets/imgs/close.png","alt","Non Veg",1,"isOpen"]],template:function(t,n){1&t&&(r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275elementStart"](1,"div",1),r["\u0275\u0275template"](2,p,2,2,"div",2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"div",1),r["\u0275\u0275template"](4,O,18,18,"div",3),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&t&&(r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",n.dummystores),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",n.stores))},directives:[o.NgForOf,l.a,o.NgStyle,o.NgIf],pipes:[o.SlicePipe],styles:[".sticky[_ngcontent-%COMP%]{position:fixed;top:0}.content_div[_ngcontent-%COMP%]{padding:10px 0;width:100%}.content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;box-shadow:3px 4px 6px rgba(0,0,0,.5);position:relative;border:1px solid #d3d3d3;margin:10px}.content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .offer_tag[_ngcontent-%COMP%]{width:35px;position:absolute;top:0;left:0;z-index:99}.content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .off_lbl[_ngcontent-%COMP%]{position:absolute;width:-webkit-min-content;width:-moz-min-content;width:min-content;font-size:9px;top:4px;left:8px;text-align:center;color:#fff;z-index:999}.content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .image_div[_ngcontent-%COMP%]{height:80px;width:80px;min-width:80px;background-position:50%;background-repeat:no-repeat;background-size:cover;position:relative;border-top-left-radius:5px;border-bottom-left-radius:5px;margin:5px}.content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .image_div[_ngcontent-%COMP%]   .kind[_ngcontent-%COMP%]{height:15px;width:15px;position:absolute;right:5px;top:5px}.content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .image_div[_ngcontent-%COMP%]   .isOpen[_ngcontent-%COMP%]{height:30px;width:30px;position:absolute;right:5px;top:5px}.content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .image_div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%}.content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .desc_div[_ngcontent-%COMP%]{text-align:right;padding:10px}.content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .desc_div[_ngcontent-%COMP%]   .pro_name[_ngcontent-%COMP%]{font-size:15px;margin-bottom:5px}.content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .desc_div[_ngcontent-%COMP%]   .pro_detail[_ngcontent-%COMP%]{font-size:11px;color:grey;margin-bottom:5px}.content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .desc_div[_ngcontent-%COMP%]   .price_lbl[_ngcontent-%COMP%]{font-weight:400;font-size:11px}.content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .desc_div[_ngcontent-%COMP%]   .price_lbl[_ngcontent-%COMP%]   .original[_ngcontent-%COMP%]{text-decoration:line-through;font-size:11px}.content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .desc_div[_ngcontent-%COMP%]   .price_lbl[_ngcontent-%COMP%]   .sell[_ngcontent-%COMP%]{font-weight:700}.content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .desc_div[_ngcontent-%COMP%]   .price_lbl[_ngcontent-%COMP%]   .dicount[_ngcontent-%COMP%]{font-weight:700;font-size:11px}.content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .desc_div[_ngcontent-%COMP%]   .small_flex[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:flex-end}.content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .desc_div[_ngcontent-%COMP%]   .small_flex[_ngcontent-%COMP%]   .btnBtm[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;font-size:12px}.content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .desc_div[_ngcontent-%COMP%]   .small_flex[_ngcontent-%COMP%]   .btnBtm[_ngcontent-%COMP%]   .ripple-parent[_ngcontent-%COMP%]{position:relative;overflow:hidden;padding:5px;color:#fff;background:#055720;border-radius:5px}.content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .desc_div[_ngcontent-%COMP%]   .abs_add[_ngcontent-%COMP%]{width:100px;background:var(--ion-color-primary);height:30px;border-radius:15px;display:flex;justify-content:space-between;align-items:center;padding-left:3px;padding-right:3px}.content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .desc_div[_ngcontent-%COMP%]   .abs_add[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:#fff;font-size:14px}.content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .desc_div[_ngcontent-%COMP%]   .abs_add[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{color:#ff8e80;width:25px}"]}),t})()}];let f=(()=>{class t{}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(n){return new(n||t)},imports:[[i.h.forChild(C)],i.h]}),t})();e.d(n,"StoresModule",(function(){return M}));let M=(()=>{class t{}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(n){return new(n||t)},imports:[[o.CommonModule,f,l.b]]}),t})()}}]);